<div class="switch-demo">
  <div class="demo-section">
    <h3>1. Basic Switch</h3>
    <p>Simple switch with label</p>
    <core-switch label="Enable notifications" [(ngModel)]="standaloneValue" (valueChange)="onValueChange('Basic Switch', $event)">
    </core-switch>
    <div class="mt-2">
      <small class="text-muted">Current value: <strong>{{ standaloneValue ? 'ON' : 'OFF' }}</strong></small>
    </div>
  </div>

  <div class="demo-section">
    <h3>2. Variants</h3>
    <p>Different color variants</p>
    <div class="switch-group">
      <core-switch label="Primary" variant="primary" [standaloneValue]="true"></core-switch>
      <core-switch label="Success" variant="success" [standaloneValue]="true"></core-switch>
      <core-switch label="Warning" variant="warning" [standaloneValue]="true"></core-switch>
      <core-switch label="Danger" variant="danger" [standaloneValue]="true"></core-switch>
      <core-switch label="Info" variant="info" [standaloneValue]="true"></core-switch>
    </div>
  </div>

  <div class="demo-section">
    <h3>3. Sizes</h3>
    <p>Different switch sizes</p>
    <div class="switch-group">
      <core-switch label="Small" size="sm" [standaloneValue]="true"></core-switch>
      <core-switch label="Medium" size="md" [standaloneValue]="true"></core-switch>
      <core-switch label="Large" size="lg" [standaloneValue]="true"></core-switch>
    </div>
  </div>

  <div class="demo-section">
    <h3>4. Label Positions</h3>
    <p>Label on left or right</p>
    <div class="switch-group">
      <core-switch label="Label on Left" labelPosition="left" [standaloneValue]="true"></core-switch>
      <core-switch label="Label on Right" labelPosition="right" [standaloneValue]="true"></core-switch>
    </div>
  </div>

  <div class="demo-section">
    <h3>5. States</h3>
    <p>Disabled and required states</p>
    <div class="switch-group">
      <core-switch label="Disabled Switch" [standaloneDisabled]="true" [standaloneValue]="true"></core-switch>
      <core-switch label="Required Switch" [required]="true" [standaloneValue]="false"></core-switch>
    </div>
  </div>

  <div class="demo-section">
    <h3>6. With Hint</h3>
    <p>Switch with hint text</p>
    <core-switch
      label="Enable dark mode"
      hint="This will change the theme to dark mode"
      [standaloneValue]="false">
    </core-switch>
  </div>

  <div class="demo-section">
    <h3>7. Indeterminate State</h3>
    <p>Switch with indeterminate state</p>
    <core-switch
      label="Indeterminate Switch"
      [indeterminate]="indeterminateValue"
      (indeterminateChange)="onIndeterminateChange('Indeterminate Switch', $event)"
      [standaloneValue]="false">
    </core-switch>
    <div class="mt-2">
      <button class="btn btn-sm btn-secondary" (click)="indeterminateValue = !indeterminateValue">
        Toggle Indeterminate
      </button>
    </div>
  </div>

  <div class="demo-section">
    <h3>8. Reactive Forms</h3>
    <p>Switch integrated with Reactive Forms</p>
    <form [formGroup]="demoForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <core-switch
          label="Enable Notifications"
          formControlName="notifications"
          (valueChange)="onValueChange('Notifications', $event)"
          (focused)="onFocus('Notifications', $event)"
          (blurred)="onBlur('Notifications', $event)"
          (clicked)="onClick('Notifications', $event)">
        </core-switch>
      </div>

      <div class="mb-3">
        <core-switch
          label="Dark Mode"
          formControlName="darkMode"
          variant="dark"
          (valueChange)="onValueChange('Dark Mode', $event)">
        </core-switch>
      </div>

      <div class="mb-3">
        <core-switch
          label="Auto Save"
          formControlName="autoSave"
          variant="success"
          [required]="true"
          hint="Required field"
          (valueChange)="onValueChange('Auto Save', $event)">
        </core-switch>
      </div>

      <div class="mb-3">
        <core-switch
          label="Public Profile"
          formControlName="publicProfile"
          variant="info"
          (valueChange)="onValueChange('Public Profile', $event)">
        </core-switch>
      </div>

      <div class="mb-3">
        <button type="submit" class="btn btn-primary">Submit Form</button>
        <button type="button" class="btn btn-secondary ms-2" (click)="demoForm.reset()">Reset</button>
      </div>

      <div class="form-value-display">
        <h4 class="h6 text-uppercase text-muted">Form Value</h4>
        <pre class="bg-dark text-light rounded p-3 small mb-0">{{ demoForm.value | json }}</pre>
      </div>
    </form>
  </div>

  <div class="demo-section">
    <h3>9. Events</h3>
    <p>Switch with all event handlers</p>
    <core-switch
      label="Event Switch"
      variant="primary"
      [standaloneValue]="false"
      (valueChange)="onValueChange('Event Switch', $event)"
      (checkedChange)="onCheckedChange('Event Switch', $event)"
      (focused)="onFocus('Event Switch', $event)"
      (blurred)="onBlur('Event Switch', $event)"
      (clicked)="onClick('Event Switch', $event)">
    </core-switch>
  </div>

  <div class="row g-3 mt-4">
    <div class="col-12">
      <div class="card shadow-sm">
        <div class="card-body d-flex flex-column">
          <h2 class="h6 text-uppercase text-muted mb-3">Event Log</h2>
          <div class="event-log flex-grow-1">
            @if (!eventLog.length) {
              <div class="text-muted small">No events yet. Interact with switches to see events here.</div>
            }
            @if (eventLog.length) {
              <ul class="list-unstyled mb-0 small">
                @for (entry of eventLog; track entry.timestamp.getTime()) {
                  <li class="mb-2 pb-2 border-bottom">
                    <div class="fw-semibold">
                      {{ eventTypeLabel[entry.type] }}
                      <span class="text-muted">â€¢ {{ entry.switch }}</span>
                      @if (entry.value !== undefined) {
                        <span class="badge bg-secondary ms-2">{{ entry.value ? 'ON' : 'OFF' }}</span>
                      }
                    </div>
                    <div class="text-body-secondary">
                      {{ entry.timestamp | date: 'mediumTime' }}
                    </div>
                  </li>
                }
              </ul>
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

