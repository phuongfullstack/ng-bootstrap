<div class="checkbox-demo">
  <!-- Single Checkbox Examples -->
  <div class="card shadow-sm mb-4">
    <div class="card-header">
      <h2 class="h5 mb-0">Single Checkbox Examples</h2>
    </div>
    <div class="card-body">
      <form [formGroup]="demoForm" (ngSubmit)="submit()">
        <core-checkbox label="Tôi đồng ý với điều khoản sử dụng" formControlName="acceptTerms" [required]="true"
          hint="Bạn phải đồng ý với điều khoản để tiếp tục" (valueChange)="onValueChange('acceptTerms', $event)"
          (checkedChange)="onCheckedChange('acceptTerms', $event)" (focused)="onFocus('acceptTerms')"
          (blurred)="onBlur('acceptTerms')">
        </core-checkbox>

        <core-checkbox label="Đăng ký nhận bản tin" formControlName="subscribeNewsletter"
          hint="Nhận thông tin về sản phẩm và khuyến mãi mới nhất"
          (valueChange)="onValueChange('subscribeNewsletter', $event)"
          (checkedChange)="onCheckedChange('subscribeNewsletter', $event)" (focused)="onFocus('subscribeNewsletter')"
          (blurred)="onBlur('subscribeNewsletter')">
        </core-checkbox>

        <core-checkbox label="Ghi nhớ đăng nhập" formControlName="rememberMe"
          (valueChange)="onValueChange('rememberMe', $event)" (checkedChange)="onCheckedChange('rememberMe', $event)"
          (focused)="onFocus('rememberMe')" (blurred)="onBlur('rememberMe')">
        </core-checkbox>

        <div class="mt-3">
          <button type="submit" class="btn btn-primary" [disabled]="demoForm.invalid">
            Submit
          </button>
          <button type="button" class="btn btn-outline-secondary ms-2" (click)="demoForm.reset()">
            Reset
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Checkbox Group Examples -->
  <div class="card shadow-sm mb-4">
    <div class="card-header">
      <h2 class="h5 mb-0">Checkbox Group Examples</h2>
    </div>
    <div class="card-body">
      <form [formGroup]="groupForm" (ngSubmit)="submitGroup()">
        <core-checkbox label="Sở thích của bạn" formControlName="hobbies" [options]="hobbyOptions" [required]="true"
          hint="Chọn ít nhất 2 sở thích" (valueChange)="onValueChange('hobbies', $event)" (focused)="onFocus('hobbies')"
          (blurred)="onBlur('hobbies')">
        </core-checkbox>

        <core-checkbox label="Kỹ năng lập trình" formControlName="skills" [options]="skillOptions" [required]="true"
          hint="Chọn các kỹ năng bạn thành thạo" (valueChange)="onValueChange('skills', $event)"
          (focused)="onFocus('skills')" (blurred)="onBlur('skills')">
        </core-checkbox>

        <div class="mt-3">
          <button type="submit" class="btn btn-primary" [disabled]="groupForm.invalid">
            Submit Group
          </button>
          <button type="button" class="btn btn-outline-secondary ms-2" (click)="groupForm.reset()">
            Reset
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Advanced Examples -->
  <div class="card shadow-sm mb-4">
    <div class="card-header">
      <h2 class="h5 mb-0">Advanced Examples</h2>
    </div>
    <div class="card-body">
      <div class="mb-3">
        <h3 class="h6">Inline Checkbox</h3>
        <core-checkbox label="Option 1" [inline]="true" (valueChange)="onValueChange('inline1', $event)">
        </core-checkbox>
        <core-checkbox label="Option 2" [inline]="true" (valueChange)="onValueChange('inline2', $event)">
        </core-checkbox>
        <core-checkbox label="Option 3" [inline]="true" (valueChange)="onValueChange('inline3', $event)">
        </core-checkbox>
      </div>

      <div class="mb-3">
        <h3 class="h6">Different Sizes</h3>
        <core-checkbox label="Small checkbox" size="sm" (valueChange)="onValueChange('sizeSm', $event)">
        </core-checkbox>
        <core-checkbox label="Medium checkbox (default)" size="md" (valueChange)="onValueChange('sizeMd', $event)">
        </core-checkbox>
        <core-checkbox label="Large checkbox" size="lg" (valueChange)="onValueChange('sizeLg', $event)">
        </core-checkbox>
      </div>

      <div class="mb-3">
        <h3 class="h6">Tri-state Checkbox (Indeterminate)</h3>
        <core-checkbox label="Select all" [indeterminate]="indeterminateState"
          (indeterminateChange)="onIndeterminateChange($event)" (valueChange)="onValueChange('triState', $event)">
        </core-checkbox>
        <button type="button" class="btn btn-sm btn-outline-primary mt-2" (click)="toggleIndeterminate()">
          Toggle Indeterminate State
        </button>
      </div>

      <div class="mb-3">
        <h3 class="h6">Disabled Checkbox</h3>
        <core-checkbox label="Disabled checkbox" [standaloneDisabled]="true" [standaloneValue]="true">
        </core-checkbox>
        <core-checkbox label="Disabled unchecked" [standaloneDisabled]="true" [standaloneValue]="false">
        </core-checkbox>
      </div>
    </div>
  </div>

  <!-- Form Values & Event Log -->
  <div class="row g-3">
    <div class="col-md-6">
      <div class="card h-100">
        <div class="card-body">
          <h2 class="h6 text-uppercase text-muted">Form Values</h2>
          <div class="mb-3">
            <strong>Single Checkbox Form:</strong>
            <pre class="mb-0 bg-dark text-light rounded p-3 small mt-2">{{ demoForm.value | json }}</pre>
          </div>
          <div>
            <strong>Group Checkbox Form:</strong>
            <pre class="mb-0 bg-dark text-light rounded p-3 small mt-2">{{ groupForm.value | json }}</pre>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card h-100">
        <div class="card-body">
          <h2 class="h6 text-uppercase text-muted">Event Log</h2>
          <div class="event-log">
            <ul class="list-unstyled mb-0 small">
              <li *ngFor="let event of eventLog" class="mb-2 pb-2 border-bottom">
                <div class="d-flex justify-content-between align-items-start">
                  <div>
                    <strong class="text-primary">{{ eventTypeLabel[event.type] }}</strong>
                    <span class="text-muted"> • {{ event.control }}</span>
                    <div *ngIf="event.value !== undefined" class="text-secondary small mt-1">
                      Value: <code>{{ event.value }}</code>
                    </div>
                  </div>
                  <span class="text-muted small">{{ event.timestamp.toLocaleTimeString() }}</span>
                </div>
              </li>
              <li *ngIf="eventLog.length === 0" class="text-muted">
                No events yet. Interact with checkboxes to see events.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
